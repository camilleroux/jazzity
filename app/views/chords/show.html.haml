= render "index"

%article#chord
  %nav#key-selector
    %h2 Key:
    %ul
      - Key.primaries.each do |key|
        %li= link_to_unless @key == key, key, [key, @chord]

  = render "chords/header"
  = render "chords/tabs"

  %section#notes-sequence
    %h3= @chord.notes.join(", ")

  %nav.related-modes
    %h3 Related Scales/Modes:
    %ul.modes-list
      - @chord.chord_scales.each do |chord_scale|
        = render chord_scale.mode, :key => (@chord.key || Key.default).shifted(chord_scale.offset)

  - if @chord.voicings.present?
    %nav.related-voicings
      %h3 Popular Voicings for #{@chord} (#{link_to "See All #{@chord.voicings.count}", [@chord, :voicings]}):
      %ul.voicings-list
        = render @chord.voicings, :key => @key

